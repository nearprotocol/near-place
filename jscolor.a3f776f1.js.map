{"version":3,"sources":["jscolor.js"],"names":["window","jscolor","jsc","BoxShadow","helper","getSupportedProp","props","elm","register","attachDOMReadyEvent","init","attachEvent","document","onDocumentMouseDown","onDocumentTouchStart","onWindowResize","lookupClass","installByClassName","tryInstallOnElements","elms","className","matchClass","RegExp","i","length","m","undefined","type","toLowerCase","isColorAttrSupported","match","targetElm","optsStr","dataOptions","getDataAttr","opts","Function","eParseError","warn","createElement","setAttribute","isCanvasSupported","getContext","fetchElement","mixed","getElementById","isElementType","nodeName","el","name","attrName","attrValue","getAttribute","evnt","func","addEventListener","detachEvent","removeEventListener","_attachedGroupEvents","attachGroupEvent","groupName","hasOwnProperty","push","detachGroupEvents","evt","fired","fireOnce","readyState","arguments","callee","documentElement","doScroll","top","tryScroll","body","e","setTimeout","msg","console","preventDefault","returnValue","captureTarget","target","setCapture","_capturedTarget","releaseTarget","releaseCapture","fireEvent","createEvent","ev","initEvent","dispatchEvent","createEventObject","classNameToList","replace","split","hasClass","indexOf","setClass","classList","unsetClass","repl","getStyle","getComputedStyle","currentStyle","setStyle","names","style","borderRadius","boxShadow","prop","value","alphaOpacity","Math","round","parseFloat","opacity","filter","setBorderRadius","setBoxShadow","getElementPos","relativeToViewport","x","y","rect","getBoundingClientRect","left","viewPos","getViewPos","getElementSize","offsetWidth","offsetHeight","getAbsPointerPos","event","changedTouches","clientX","clientY","getRelPointerPos","targetRect","srcElement","doc","pageXOffset","scrollLeft","clientLeft","pageYOffset","scrollTop","clientTop","getViewSize","innerWidth","clientWidth","innerHeight","clientHeight","redrawPosition","picker","owner","thisObj","tp","vp","fixed","targetElement","ts","a","b","c","vs","ps","getPickerOuterDims","position","l","smartPosition","pp","positionValue","contractShadow","_drawPosition","vShadow","shadowBlur","wrap","boxS","shadow","shadowColor","getPickerDims","displaySlider","getSliderComponent","dims","insetWidth","padding","width","getPadToSliderPadding","sliderSize","height","closable","buttonHeight","borderWidth","max","pointerBorderWidth","pointerThickness","getPadYComponent","mode","charAt","_jscLinkedInstance","showOnClick","show","_jscControlName","onControlPointerStart","hide","onParentScroll","_pointerMoveEvent","mouse","touch","_pointerEndEvent","_pointerOrigin","controlName","pointerType","_jscInstance","registerDragEvents","offset","onDocumentPointerMove","onDocumentPointerEnd","parent","frameElement","ofs","abs","rel","hsv","fromHSV","setPad","setSld","dispatchFineChange","dispatchChange","valueElement","onFineChange","call","ofsX","ofsY","pointerAbs","xVal","yVal","leaveSld","leavePad","_vmlNS","_vmlCSS","_vmlReady","initVML","namespaces","add","styleSheets","tags","ss","createStyleSheet","owningElement","id","addRule","createPalette","paletteObj","draw","canvas","ctx","drawFunc","clearRect","hGrad","createLinearGradient","addColorStop","fillStyle","fillRect","vGrad","vmlContainer","overflow","method","angle","colors","hRect","stroked","appendChild","vRect","color","color2","createSliderGradient","sliderObj","color1","grad","leaveValue","leaveStyle","hShadow","blur","spread","inset","prototype","toString","vals","join","options","opt","styleElement","required","refine","hash","uppercase","activeClass","overwriteImportant","minS","maxS","minV","maxV","rgb","crossSize","closeText","buttonColor","backgroundColor","borderColor","insetColor","pointerColor","pointerBorderColor","zIndex","container","HSV_RGB","h","s","v","u","floor","n","drawPicker","THIS","_processParentElementsInDOM","box","boxB","pad","padB","padM","padPal","cross","crossBY","crossBX","crossLY","crossLX","sld","sldB","sldM","sldGrad","sldPtrS","sldPtrIB","sldPtrMB","sldPtrOB","btn","btnT","p","insetColors","outsetColor","crossOuterSize","padToSliderPadding","min","PI","clear","border","background","cursor","display","right","sliderPtrSpace","bottom","font","textAlign","eOldIE","onmousedown","lineHeight","innerHTML","createTextNode","redrawPad","redrawSld","parentNode","yComponent","rgb1","rgb2","sldComponent","isPickerOwner","removeChild","redraw","importColor","test","backgroundImage","_jscOrigStyle","exportColor","fromString","flags","toUpperCase","bgColor","fgColor","isLight","isNaN","fromRGB","r","g","RGB_HSV","str","parseInt","substr","params","mR","mG","mB","re","toHEXString","toRGBString","_linkedElementsProcessed","currStyle","_jscEventsAttached","getElementsByTagName","onclick","origCallback","updateField","blurValue","inputElms","buttonElms"],"mappings":"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","file":"jscolor.a3f776f1.js","sourceRoot":"../src","sourcesContent":["/**\n * jscolor - JavaScript Color Picker\n *\n * @link    http://jscolor.com\n * @license For open source use: GPLv3\n *          For commercial use: JSColor Commercial License\n * @author  Jan Odvarko\n * @version 2.0.5\n *\n * See usage examples at http://jscolor.com/examples/\n */\n\n\n\"use strict\";\n\n\nif (!window.jscolor) { window.jscolor = (function () {\n\n\nvar jsc = {\n\n\n\tregister : function () {\n\t\tjsc.attachDOMReadyEvent(jsc.init);\n\t\tjsc.attachEvent(document, 'mousedown', jsc.onDocumentMouseDown);\n\t\tjsc.attachEvent(document, 'touchstart', jsc.onDocumentTouchStart);\n\t\tjsc.attachEvent(window, 'resize', jsc.onWindowResize);\n\t},\n\n\n\tinit : function () {\n\t\tif (jsc.jscolor.lookupClass) {\n\t\t\tjsc.jscolor.installByClassName(jsc.jscolor.lookupClass);\n\t\t}\n\t},\n\n\n\ttryInstallOnElements : function (elms, className) {\n\t\tvar matchClass = new RegExp('(^|\\\\s)(' + className + ')(\\\\s*(\\\\{[^}]*\\\\})|\\\\s|$)', 'i');\n\n\t\tfor (var i = 0; i < elms.length; i += 1) {\n\t\t\tif (elms[i].type !== undefined && elms[i].type.toLowerCase() == 'color') {\n\t\t\t\tif (jsc.isColorAttrSupported) {\n\t\t\t\t\t// skip inputs of type 'color' if supported by the browser\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar m;\n\t\t\tif (!elms[i].jscolor && elms[i].className && (m = elms[i].className.match(matchClass))) {\n\t\t\t\tvar targetElm = elms[i];\n\t\t\t\tvar optsStr = null;\n\n\t\t\t\tvar dataOptions = jsc.getDataAttr(targetElm, 'jscolor');\n\t\t\t\tif (dataOptions !== null) {\n\t\t\t\t\toptsStr = dataOptions;\n\t\t\t\t} else if (m[4]) {\n\t\t\t\t\toptsStr = m[4];\n\t\t\t\t}\n\n\t\t\t\tvar opts = {};\n\t\t\t\tif (optsStr) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\topts = (new Function ('return (' + optsStr + ')'))();\n\t\t\t\t\t} catch(eParseError) {\n\t\t\t\t\t\tjsc.warn('Error parsing jscolor options: ' + eParseError + ':\\n' + optsStr);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ttargetElm.jscolor = new jsc.jscolor(targetElm, opts);\n\t\t\t}\n\t\t}\n\t},\n\n\n\tisColorAttrSupported : (function () {\n\t\tvar elm = document.createElement('input');\n\t\tif (elm.setAttribute) {\n\t\t\telm.setAttribute('type', 'color');\n\t\t\tif (elm.type.toLowerCase() == 'color') {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t})(),\n\n\n\tisCanvasSupported : (function () {\n\t\tvar elm = document.createElement('canvas');\n\t\treturn !!(elm.getContext && elm.getContext('2d'));\n\t})(),\n\n\n\tfetchElement : function (mixed) {\n\t\treturn typeof mixed === 'string' ? document.getElementById(mixed) : mixed;\n\t},\n\n\n\tisElementType : function (elm, type) {\n\t\treturn elm.nodeName.toLowerCase() === type.toLowerCase();\n\t},\n\n\n\tgetDataAttr : function (el, name) {\n\t\tvar attrName = 'data-' + name;\n\t\tvar attrValue = el.getAttribute(attrName);\n\t\tif (attrValue !== null) {\n\t\t\treturn attrValue;\n\t\t}\n\t\treturn null;\n\t},\n\n\n\tattachEvent : function (el, evnt, func) {\n\t\tif (el.addEventListener) {\n\t\t\tel.addEventListener(evnt, func, false);\n\t\t} else if (el.attachEvent) {\n\t\t\tel.attachEvent('on' + evnt, func);\n\t\t}\n\t},\n\n\n\tdetachEvent : function (el, evnt, func) {\n\t\tif (el.removeEventListener) {\n\t\t\tel.removeEventListener(evnt, func, false);\n\t\t} else if (el.detachEvent) {\n\t\t\tel.detachEvent('on' + evnt, func);\n\t\t}\n\t},\n\n\n\t_attachedGroupEvents : {},\n\n\n\tattachGroupEvent : function (groupName, el, evnt, func) {\n\t\tif (!jsc._attachedGroupEvents.hasOwnProperty(groupName)) {\n\t\t\tjsc._attachedGroupEvents[groupName] = [];\n\t\t}\n\t\tjsc._attachedGroupEvents[groupName].push([el, evnt, func]);\n\t\tjsc.attachEvent(el, evnt, func);\n\t},\n\n\n\tdetachGroupEvents : function (groupName) {\n\t\tif (jsc._attachedGroupEvents.hasOwnProperty(groupName)) {\n\t\t\tfor (var i = 0; i < jsc._attachedGroupEvents[groupName].length; i += 1) {\n\t\t\t\tvar evt = jsc._attachedGroupEvents[groupName][i];\n\t\t\t\tjsc.detachEvent(evt[0], evt[1], evt[2]);\n\t\t\t}\n\t\t\tdelete jsc._attachedGroupEvents[groupName];\n\t\t}\n\t},\n\n\n\tattachDOMReadyEvent : function (func) {\n\t\tvar fired = false;\n\t\tvar fireOnce = function () {\n\t\t\tif (!fired) {\n\t\t\t\tfired = true;\n\t\t\t\tfunc();\n\t\t\t}\n\t\t};\n\n\t\tif (document.readyState === 'complete') {\n\t\t\tsetTimeout(fireOnce, 1); // async\n\t\t\treturn;\n\t\t}\n\n\t\tif (document.addEventListener) {\n\t\t\tdocument.addEventListener('DOMContentLoaded', fireOnce, false);\n\n\t\t\t// Fallback\n\t\t\twindow.addEventListener('load', fireOnce, false);\n\n\t\t} else if (document.attachEvent) {\n\t\t\t// IE\n\t\t\tdocument.attachEvent('onreadystatechange', function () {\n\t\t\t\tif (document.readyState === 'complete') {\n\t\t\t\t\tdocument.detachEvent('onreadystatechange', arguments.callee);\n\t\t\t\t\tfireOnce();\n\t\t\t\t}\n\t\t\t})\n\n\t\t\t// Fallback\n\t\t\twindow.attachEvent('onload', fireOnce);\n\n\t\t\t// IE7/8\n\t\t\tif (document.documentElement.doScroll && window == window.top) {\n\t\t\t\tvar tryScroll = function () {\n\t\t\t\t\tif (!document.body) { return; }\n\t\t\t\t\ttry {\n\t\t\t\t\t\tdocument.documentElement.doScroll('left');\n\t\t\t\t\t\tfireOnce();\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tsetTimeout(tryScroll, 1);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\ttryScroll();\n\t\t\t}\n\t\t}\n\t},\n\n\n\twarn : function (msg) {\n\t\tif (window.console && window.console.warn) {\n\t\t\twindow.console.warn(msg);\n\t\t}\n\t},\n\n\n\tpreventDefault : function (e) {\n\t\tif (e.preventDefault) { e.preventDefault(); }\n\t\te.returnValue = false;\n\t},\n\n\n\tcaptureTarget : function (target) {\n\t\t// IE\n\t\tif (target.setCapture) {\n\t\t\tjsc._capturedTarget = target;\n\t\t\tjsc._capturedTarget.setCapture();\n\t\t}\n\t},\n\n\n\treleaseTarget : function () {\n\t\t// IE\n\t\tif (jsc._capturedTarget) {\n\t\t\tjsc._capturedTarget.releaseCapture();\n\t\t\tjsc._capturedTarget = null;\n\t\t}\n\t},\n\n\n\tfireEvent : function (el, evnt) {\n\t\tif (!el) {\n\t\t\treturn;\n\t\t}\n\t\tif (document.createEvent) {\n\t\t\tvar ev = document.createEvent('HTMLEvents');\n\t\t\tev.initEvent(evnt, true, true);\n\t\t\tel.dispatchEvent(ev);\n\t\t} else if (document.createEventObject) {\n\t\t\tvar ev = document.createEventObject();\n\t\t\tel.fireEvent('on' + evnt, ev);\n\t\t} else if (el['on' + evnt]) { // alternatively use the traditional event model\n\t\t\tel['on' + evnt]();\n\t\t}\n\t},\n\n\n\tclassNameToList : function (className) {\n\t\treturn className.replace(/^\\s+|\\s+$/g, '').split(/\\s+/);\n\t},\n\n\n\t// The className parameter (str) can only contain a single class name\n\thasClass : function (elm, className) {\n\t\tif (!className) {\n\t\t\treturn false;\n\t\t}\n\t\treturn -1 != (' ' + elm.className.replace(/\\s+/g, ' ') + ' ').indexOf(' ' + className + ' ');\n\t},\n\n\n\t// The className parameter (str) can contain multiple class names separated by whitespace\n\tsetClass : function (elm, className) {\n\t\tvar classList = jsc.classNameToList(className);\n\t\tfor (var i = 0; i < classList.length; i += 1) {\n\t\t\tif (!jsc.hasClass(elm, classList[i])) {\n\t\t\t\telm.className += (elm.className ? ' ' : '') + classList[i];\n\t\t\t}\n\t\t}\n\t},\n\n\n\t// The className parameter (str) can contain multiple class names separated by whitespace\n\tunsetClass : function (elm, className) {\n\t\tvar classList = jsc.classNameToList(className);\n\t\tfor (var i = 0; i < classList.length; i += 1) {\n\t\t\tvar repl = new RegExp(\n\t\t\t\t'^\\\\s*' + classList[i] + '\\\\s*|' +\n\t\t\t\t'\\\\s*' + classList[i] + '\\\\s*$|' +\n\t\t\t\t'\\\\s+' + classList[i] + '(\\\\s+)',\n\t\t\t\t'g'\n\t\t\t);\n\t\t\telm.className = elm.className.replace(repl, '$1');\n\t\t}\n\t},\n\n\n\tgetStyle : function (elm) {\n\t\treturn window.getComputedStyle ? window.getComputedStyle(elm) : elm.currentStyle;\n\t},\n\n\n\tsetStyle : (function () {\n\t\tvar helper = document.createElement('div');\n\t\tvar getSupportedProp = function (names) {\n\t\t\tfor (var i = 0; i < names.length; i += 1) {\n\t\t\t\tif (names[i] in helper.style) {\n\t\t\t\t\treturn names[i];\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tvar props = {\n\t\t\tborderRadius: getSupportedProp(['borderRadius', 'MozBorderRadius', 'webkitBorderRadius']),\n\t\t\tboxShadow: getSupportedProp(['boxShadow', 'MozBoxShadow', 'webkitBoxShadow'])\n\t\t};\n\t\treturn function (elm, prop, value) {\n\t\t\tswitch (prop.toLowerCase()) {\n\t\t\tcase 'opacity':\n\t\t\t\tvar alphaOpacity = Math.round(parseFloat(value) * 100);\n\t\t\t\telm.style.opacity = value;\n\t\t\t\telm.style.filter = 'alpha(opacity=' + alphaOpacity + ')';\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\telm.style[props[prop]] = value;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t};\n\t})(),\n\n\n\tsetBorderRadius : function (elm, value) {\n\t\tjsc.setStyle(elm, 'borderRadius', value || '0');\n\t},\n\n\n\tsetBoxShadow : function (elm, value) {\n\t\tjsc.setStyle(elm, 'boxShadow', value || 'none');\n\t},\n\n\n\tgetElementPos : function (e, relativeToViewport) {\n\t\tvar x=0, y=0;\n\t\tvar rect = e.getBoundingClientRect();\n\t\tx = rect.left;\n\t\ty = rect.top;\n\t\tif (!relativeToViewport) {\n\t\t\tvar viewPos = jsc.getViewPos();\n\t\t\tx += viewPos[0];\n\t\t\ty += viewPos[1];\n\t\t}\n\t\treturn [x, y];\n\t},\n\n\n\tgetElementSize : function (e) {\n\t\treturn [e.offsetWidth, e.offsetHeight];\n\t},\n\n\n\t// get pointer's X/Y coordinates relative to viewport\n\tgetAbsPointerPos : function (e) {\n\t\tif (!e) { e = window.event; }\n\t\tvar x = 0, y = 0;\n\t\tif (typeof e.changedTouches !== 'undefined' && e.changedTouches.length) {\n\t\t\t// touch devices\n\t\t\tx = e.changedTouches[0].clientX;\n\t\t\ty = e.changedTouches[0].clientY;\n\t\t} else if (typeof e.clientX === 'number') {\n\t\t\tx = e.clientX;\n\t\t\ty = e.clientY;\n\t\t}\n\t\treturn { x: x, y: y };\n\t},\n\n\n\t// get pointer's X/Y coordinates relative to target element\n\tgetRelPointerPos : function (e) {\n\t\tif (!e) { e = window.event; }\n\t\tvar target = e.target || e.srcElement;\n\t\tvar targetRect = target.getBoundingClientRect();\n\n\t\tvar x = 0, y = 0;\n\n\t\tvar clientX = 0, clientY = 0;\n\t\tif (typeof e.changedTouches !== 'undefined' && e.changedTouches.length) {\n\t\t\t// touch devices\n\t\t\tclientX = e.changedTouches[0].clientX;\n\t\t\tclientY = e.changedTouches[0].clientY;\n\t\t} else if (typeof e.clientX === 'number') {\n\t\t\tclientX = e.clientX;\n\t\t\tclientY = e.clientY;\n\t\t}\n\n\t\tx = clientX - targetRect.left;\n\t\ty = clientY - targetRect.top;\n\t\treturn { x: x, y: y };\n\t},\n\n\n\tgetViewPos : function () {\n\t\tvar doc = document.documentElement;\n\t\treturn [\n\t\t\t(window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0),\n\t\t\t(window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0)\n\t\t];\n\t},\n\n\n\tgetViewSize : function () {\n\t\tvar doc = document.documentElement;\n\t\treturn [\n\t\t\t(window.innerWidth || doc.clientWidth),\n\t\t\t(window.innerHeight || doc.clientHeight),\n\t\t];\n\t},\n\n\n\tredrawPosition : function () {\n\n\t\tif (jsc.picker && jsc.picker.owner) {\n\t\t\tvar thisObj = jsc.picker.owner;\n\n\t\t\tvar tp, vp;\n\n\t\t\tif (thisObj.fixed) {\n\t\t\t\t// Fixed elements are positioned relative to viewport,\n\t\t\t\t// therefore we can ignore the scroll offset\n\t\t\t\ttp = jsc.getElementPos(thisObj.targetElement, true); // target pos\n\t\t\t\tvp = [0, 0]; // view pos\n\t\t\t} else {\n\t\t\t\ttp = jsc.getElementPos(thisObj.targetElement); // target pos\n\t\t\t\tvp = jsc.getViewPos(); // view pos\n\t\t\t}\n\n\t\t\tvar ts = jsc.getElementSize(thisObj.targetElement); // target size\n\t\t\tvar vs = jsc.getViewSize(); // view size\n\t\t\tvar ps = jsc.getPickerOuterDims(thisObj); // picker size\n\t\t\tvar a, b, c;\n\t\t\tswitch (thisObj.position.toLowerCase()) {\n\t\t\t\tcase 'left': a=1; b=0; c=-1; break;\n\t\t\t\tcase 'right':a=1; b=0; c=1; break;\n\t\t\t\tcase 'top':  a=0; b=1; c=-1; break;\n\t\t\t\tdefault:     a=0; b=1; c=1; break;\n\t\t\t}\n\t\t\tvar l = (ts[b]+ps[b])/2;\n\n\t\t\t// compute picker position\n\t\t\tif (!thisObj.smartPosition) {\n\t\t\t\tvar pp = [\n\t\t\t\t\ttp[a],\n\t\t\t\t\ttp[b]+ts[b]-l+l*c\n\t\t\t\t];\n\t\t\t} else {\n\t\t\t\tvar pp = [\n\t\t\t\t\t-vp[a]+tp[a]+ps[a] > vs[a] ?\n\t\t\t\t\t\t(-vp[a]+tp[a]+ts[a]/2 > vs[a]/2 && tp[a]+ts[a]-ps[a] >= 0 ? tp[a]+ts[a]-ps[a] : tp[a]) :\n\t\t\t\t\t\ttp[a],\n\t\t\t\t\t-vp[b]+tp[b]+ts[b]+ps[b]-l+l*c > vs[b] ?\n\t\t\t\t\t\t(-vp[b]+tp[b]+ts[b]/2 > vs[b]/2 && tp[b]+ts[b]-l-l*c >= 0 ? tp[b]+ts[b]-l-l*c : tp[b]+ts[b]-l+l*c) :\n\t\t\t\t\t\t(tp[b]+ts[b]-l+l*c >= 0 ? tp[b]+ts[b]-l+l*c : tp[b]+ts[b]-l-l*c)\n\t\t\t\t];\n\t\t\t}\n\n\t\t\tvar x = pp[a];\n\t\t\tvar y = pp[b];\n\t\t\tvar positionValue = thisObj.fixed ? 'fixed' : 'absolute';\n\t\t\tvar contractShadow =\n\t\t\t\t(pp[0] + ps[0] > tp[0] || pp[0] < tp[0] + ts[0]) &&\n\t\t\t\t(pp[1] + ps[1] < tp[1] + ts[1]);\n\n\t\t\tjsc._drawPosition(thisObj, x, y, positionValue, contractShadow);\n\t\t}\n\t},\n\n\n\t_drawPosition : function (thisObj, x, y, positionValue, contractShadow) {\n\t\tvar vShadow = contractShadow ? 0 : thisObj.shadowBlur; // px\n\n\t\tjsc.picker.wrap.style.position = positionValue;\n\t\tjsc.picker.wrap.style.left = x + 'px';\n\t\tjsc.picker.wrap.style.top = y + 'px';\n\n\t\tjsc.setBoxShadow(\n\t\t\tjsc.picker.boxS,\n\t\t\tthisObj.shadow ?\n\t\t\t\tnew jsc.BoxShadow(0, vShadow, thisObj.shadowBlur, 0, thisObj.shadowColor) :\n\t\t\t\tnull);\n\t},\n\n\n\tgetPickerDims : function (thisObj) {\n\t\tvar displaySlider = !!jsc.getSliderComponent(thisObj);\n\t\tvar dims = [\n\t\t\t2 * thisObj.insetWidth + 2 * thisObj.padding + thisObj.width +\n\t\t\t\t(displaySlider ? 2 * thisObj.insetWidth + jsc.getPadToSliderPadding(thisObj) + thisObj.sliderSize : 0),\n\t\t\t2 * thisObj.insetWidth + 2 * thisObj.padding + thisObj.height +\n\t\t\t\t(thisObj.closable ? 2 * thisObj.insetWidth + thisObj.padding + thisObj.buttonHeight : 0)\n\t\t];\n\t\treturn dims;\n\t},\n\n\n\tgetPickerOuterDims : function (thisObj) {\n\t\tvar dims = jsc.getPickerDims(thisObj);\n\t\treturn [\n\t\t\tdims[0] + 2 * thisObj.borderWidth,\n\t\t\tdims[1] + 2 * thisObj.borderWidth\n\t\t];\n\t},\n\n\n\tgetPadToSliderPadding : function (thisObj) {\n\t\treturn Math.max(thisObj.padding, 1.5 * (2 * thisObj.pointerBorderWidth + thisObj.pointerThickness));\n\t},\n\n\n\tgetPadYComponent : function (thisObj) {\n\t\tswitch (thisObj.mode.charAt(1).toLowerCase()) {\n\t\t\tcase 'v': return 'v'; break;\n\t\t}\n\t\treturn 's';\n\t},\n\n\n\tgetSliderComponent : function (thisObj) {\n\t\tif (thisObj.mode.length > 2) {\n\t\t\tswitch (thisObj.mode.charAt(2).toLowerCase()) {\n\t\t\t\tcase 's': return 's'; break;\n\t\t\t\tcase 'v': return 'v'; break;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t},\n\n\n\tonDocumentMouseDown : function (e) {\n\t\tif (!e) { e = window.event; }\n\t\tvar target = e.target || e.srcElement;\n\n\t\tif (target._jscLinkedInstance) {\n\t\t\tif (target._jscLinkedInstance.showOnClick) {\n\t\t\t\ttarget._jscLinkedInstance.show();\n\t\t\t}\n\t\t} else if (target._jscControlName) {\n\t\t\tjsc.onControlPointerStart(e, target, target._jscControlName, 'mouse');\n\t\t} else {\n\t\t\t// Mouse is outside the picker controls -> hide the color picker!\n\t\t\tif (jsc.picker && jsc.picker.owner) {\n\t\t\t\tjsc.picker.owner.hide();\n\t\t\t}\n\t\t}\n\t},\n\n\n\tonDocumentTouchStart : function (e) {\n\t\tif (!e) { e = window.event; }\n\t\tvar target = e.target || e.srcElement;\n\n\t\tif (target._jscLinkedInstance) {\n\t\t\tif (target._jscLinkedInstance.showOnClick) {\n\t\t\t\ttarget._jscLinkedInstance.show();\n\t\t\t}\n\t\t} else if (target._jscControlName) {\n\t\t\tjsc.onControlPointerStart(e, target, target._jscControlName, 'touch');\n\t\t} else {\n\t\t\tif (jsc.picker && jsc.picker.owner) {\n\t\t\t\tjsc.picker.owner.hide();\n\t\t\t}\n\t\t}\n\t},\n\n\n\tonWindowResize : function (e) {\n\t\tjsc.redrawPosition();\n\t},\n\n\n\tonParentScroll : function (e) {\n\t\t// hide the picker when one of the parent elements is scrolled\n\t\tif (jsc.picker && jsc.picker.owner) {\n\t\t\tjsc.picker.owner.hide();\n\t\t}\n\t},\n\n\n\t_pointerMoveEvent : {\n\t\tmouse: 'mousemove',\n\t\ttouch: 'touchmove'\n\t},\n\t_pointerEndEvent : {\n\t\tmouse: 'mouseup',\n\t\ttouch: 'touchend'\n\t},\n\n\n\t_pointerOrigin : null,\n\t_capturedTarget : null,\n\n\n\tonControlPointerStart : function (e, target, controlName, pointerType) {\n\t\tvar thisObj = target._jscInstance;\n\n\t\tjsc.preventDefault(e);\n\t\tjsc.captureTarget(target);\n\n\t\tvar registerDragEvents = function (doc, offset) {\n\t\t\tjsc.attachGroupEvent('drag', doc, jsc._pointerMoveEvent[pointerType],\n\t\t\t\tjsc.onDocumentPointerMove(e, target, controlName, pointerType, offset));\n\t\t\tjsc.attachGroupEvent('drag', doc, jsc._pointerEndEvent[pointerType],\n\t\t\t\tjsc.onDocumentPointerEnd(e, target, controlName, pointerType));\n\t\t};\n\n\t\tregisterDragEvents(document, [0, 0]);\n\n\t\tif (window.parent && window.frameElement) {\n\t\t\tvar rect = window.frameElement.getBoundingClientRect();\n\t\t\tvar ofs = [-rect.left, -rect.top];\n\t\t\tregisterDragEvents(window.parent.window.document, ofs);\n\t\t}\n\n\t\tvar abs = jsc.getAbsPointerPos(e);\n\t\tvar rel = jsc.getRelPointerPos(e);\n\t\tjsc._pointerOrigin = {\n\t\t\tx: abs.x - rel.x,\n\t\t\ty: abs.y - rel.y\n\t\t};\n\n\t\tswitch (controlName) {\n\t\tcase 'pad':\n\t\t\t// if the slider is at the bottom, move it up\n\t\t\tswitch (jsc.getSliderComponent(thisObj)) {\n\t\t\tcase 's': if (thisObj.hsv[1] === 0) { thisObj.fromHSV(null, 100, null); }; break;\n\t\t\tcase 'v': if (thisObj.hsv[2] === 0) { thisObj.fromHSV(null, null, 100); }; break;\n\t\t\t}\n\t\t\tjsc.setPad(thisObj, e, 0, 0);\n\t\t\tbreak;\n\n\t\tcase 'sld':\n\t\t\tjsc.setSld(thisObj, e, 0);\n\t\t\tbreak;\n\t\t}\n\n\t\tjsc.dispatchFineChange(thisObj);\n\t},\n\n\n\tonDocumentPointerMove : function (e, target, controlName, pointerType, offset) {\n\t\treturn function (e) {\n\t\t\tvar thisObj = target._jscInstance;\n\t\t\tswitch (controlName) {\n\t\t\tcase 'pad':\n\t\t\t\tif (!e) { e = window.event; }\n\t\t\t\tjsc.setPad(thisObj, e, offset[0], offset[1]);\n\t\t\t\tjsc.dispatchFineChange(thisObj);\n\t\t\t\tbreak;\n\n\t\t\tcase 'sld':\n\t\t\t\tif (!e) { e = window.event; }\n\t\t\t\tjsc.setSld(thisObj, e, offset[1]);\n\t\t\t\tjsc.dispatchFineChange(thisObj);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t},\n\n\n\tonDocumentPointerEnd : function (e, target, controlName, pointerType) {\n\t\treturn function (e) {\n\t\t\tvar thisObj = target._jscInstance;\n\t\t\tjsc.detachGroupEvents('drag');\n\t\t\tjsc.releaseTarget();\n\t\t\t// Always dispatch changes after detaching outstanding mouse handlers,\n\t\t\t// in case some user interaction will occur in user's onchange callback\n\t\t\t// that would intrude with current mouse events\n\t\t\tjsc.dispatchChange(thisObj);\n\t\t};\n\t},\n\n\n\tdispatchChange : function (thisObj) {\n\t\tif (thisObj.valueElement) {\n\t\t\tif (jsc.isElementType(thisObj.valueElement, 'input')) {\n\t\t\t\tjsc.fireEvent(thisObj.valueElement, 'change');\n\t\t\t}\n\t\t}\n\t},\n\n\n\tdispatchFineChange : function (thisObj) {\n\t\tif (thisObj.onFineChange) {\n\t\t\tvar callback;\n\t\t\tif (typeof thisObj.onFineChange === 'string') {\n\t\t\t\tcallback = new Function (thisObj.onFineChange);\n\t\t\t} else {\n\t\t\t\tcallback = thisObj.onFineChange;\n\t\t\t}\n\t\t\tcallback.call(thisObj);\n\t\t}\n\t},\n\n\n\tsetPad : function (thisObj, e, ofsX, ofsY) {\n\t\tvar pointerAbs = jsc.getAbsPointerPos(e);\n\t\tvar x = ofsX + pointerAbs.x - jsc._pointerOrigin.x - thisObj.padding - thisObj.insetWidth;\n\t\tvar y = ofsY + pointerAbs.y - jsc._pointerOrigin.y - thisObj.padding - thisObj.insetWidth;\n\n\t\tvar xVal = x * (360 / (thisObj.width - 1));\n\t\tvar yVal = 100 - (y * (100 / (thisObj.height - 1)));\n\n\t\tswitch (jsc.getPadYComponent(thisObj)) {\n\t\tcase 's': thisObj.fromHSV(xVal, yVal, null, jsc.leaveSld); break;\n\t\tcase 'v': thisObj.fromHSV(xVal, null, yVal, jsc.leaveSld); break;\n\t\t}\n\t},\n\n\n\tsetSld : function (thisObj, e, ofsY) {\n\t\tvar pointerAbs = jsc.getAbsPointerPos(e);\n\t\tvar y = ofsY + pointerAbs.y - jsc._pointerOrigin.y - thisObj.padding - thisObj.insetWidth;\n\n\t\tvar yVal = 100 - (y * (100 / (thisObj.height - 1)));\n\n\t\tswitch (jsc.getSliderComponent(thisObj)) {\n\t\tcase 's': thisObj.fromHSV(null, yVal, null, jsc.leavePad); break;\n\t\tcase 'v': thisObj.fromHSV(null, null, yVal, jsc.leavePad); break;\n\t\t}\n\t},\n\n\n\t_vmlNS : 'jsc_vml_',\n\t_vmlCSS : 'jsc_vml_css_',\n\t_vmlReady : false,\n\n\n\tinitVML : function () {\n\t\tif (!jsc._vmlReady) {\n\t\t\t// init VML namespace\n\t\t\tvar doc = document;\n\t\t\tif (!doc.namespaces[jsc._vmlNS]) {\n\t\t\t\tdoc.namespaces.add(jsc._vmlNS, 'urn:schemas-microsoft-com:vml');\n\t\t\t}\n\t\t\tif (!doc.styleSheets[jsc._vmlCSS]) {\n\t\t\t\tvar tags = ['shape', 'shapetype', 'group', 'background', 'path', 'formulas', 'handles', 'fill', 'stroke', 'shadow', 'textbox', 'textpath', 'imagedata', 'line', 'polyline', 'curve', 'rect', 'roundrect', 'oval', 'arc', 'image'];\n\t\t\t\tvar ss = doc.createStyleSheet();\n\t\t\t\tss.owningElement.id = jsc._vmlCSS;\n\t\t\t\tfor (var i = 0; i < tags.length; i += 1) {\n\t\t\t\t\tss.addRule(jsc._vmlNS + '\\\\:' + tags[i], 'behavior:url(#default#VML);');\n\t\t\t\t}\n\t\t\t}\n\t\t\tjsc._vmlReady = true;\n\t\t}\n\t},\n\n\n\tcreatePalette : function () {\n\n\t\tvar paletteObj = {\n\t\t\telm: null,\n\t\t\tdraw: null\n\t\t};\n\n\t\tif (jsc.isCanvasSupported) {\n\t\t\t// Canvas implementation for modern browsers\n\n\t\t\tvar canvas = document.createElement('canvas');\n\t\t\tvar ctx = canvas.getContext('2d');\n\n\t\t\tvar drawFunc = function (width, height, type) {\n\t\t\t\tcanvas.width = width;\n\t\t\t\tcanvas.height = height;\n\n\t\t\t\tctx.clearRect(0, 0, canvas.width, canvas.height);\n\n\t\t\t\tvar hGrad = ctx.createLinearGradient(0, 0, canvas.width, 0);\n\t\t\t\thGrad.addColorStop(0 / 6, '#F00');\n\t\t\t\thGrad.addColorStop(1 / 6, '#FF0');\n\t\t\t\thGrad.addColorStop(2 / 6, '#0F0');\n\t\t\t\thGrad.addColorStop(3 / 6, '#0FF');\n\t\t\t\thGrad.addColorStop(4 / 6, '#00F');\n\t\t\t\thGrad.addColorStop(5 / 6, '#F0F');\n\t\t\t\thGrad.addColorStop(6 / 6, '#F00');\n\n\t\t\t\tctx.fillStyle = hGrad;\n\t\t\t\tctx.fillRect(0, 0, canvas.width, canvas.height);\n\n\t\t\t\tvar vGrad = ctx.createLinearGradient(0, 0, 0, canvas.height);\n\t\t\t\tswitch (type.toLowerCase()) {\n\t\t\t\tcase 's':\n\t\t\t\t\tvGrad.addColorStop(0, 'rgba(255,255,255,0)');\n\t\t\t\t\tvGrad.addColorStop(1, 'rgba(255,255,255,1)');\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'v':\n\t\t\t\t\tvGrad.addColorStop(0, 'rgba(0,0,0,0)');\n\t\t\t\t\tvGrad.addColorStop(1, 'rgba(0,0,0,1)');\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tctx.fillStyle = vGrad;\n\t\t\t\tctx.fillRect(0, 0, canvas.width, canvas.height);\n\t\t\t};\n\n\t\t\tpaletteObj.elm = canvas;\n\t\t\tpaletteObj.draw = drawFunc;\n\n\t\t} else {\n\t\t\t// VML fallback for IE 7 and 8\n\n\t\t\tjsc.initVML();\n\n\t\t\tvar vmlContainer = document.createElement('div');\n\t\t\tvmlContainer.style.position = 'relative';\n\t\t\tvmlContainer.style.overflow = 'hidden';\n\n\t\t\tvar hGrad = document.createElement(jsc._vmlNS + ':fill');\n\t\t\thGrad.type = 'gradient';\n\t\t\thGrad.method = 'linear';\n\t\t\thGrad.angle = '90';\n\t\t\thGrad.colors = '16.67% #F0F, 33.33% #00F, 50% #0FF, 66.67% #0F0, 83.33% #FF0'\n\n\t\t\tvar hRect = document.createElement(jsc._vmlNS + ':rect');\n\t\t\thRect.style.position = 'absolute';\n\t\t\thRect.style.left = -1 + 'px';\n\t\t\thRect.style.top = -1 + 'px';\n\t\t\thRect.stroked = false;\n\t\t\thRect.appendChild(hGrad);\n\t\t\tvmlContainer.appendChild(hRect);\n\n\t\t\tvar vGrad = document.createElement(jsc._vmlNS + ':fill');\n\t\t\tvGrad.type = 'gradient';\n\t\t\tvGrad.method = 'linear';\n\t\t\tvGrad.angle = '180';\n\t\t\tvGrad.opacity = '0';\n\n\t\t\tvar vRect = document.createElement(jsc._vmlNS + ':rect');\n\t\t\tvRect.style.position = 'absolute';\n\t\t\tvRect.style.left = -1 + 'px';\n\t\t\tvRect.style.top = -1 + 'px';\n\t\t\tvRect.stroked = false;\n\t\t\tvRect.appendChild(vGrad);\n\t\t\tvmlContainer.appendChild(vRect);\n\n\t\t\tvar drawFunc = function (width, height, type) {\n\t\t\t\tvmlContainer.style.width = width + 'px';\n\t\t\t\tvmlContainer.style.height = height + 'px';\n\n\t\t\t\thRect.style.width =\n\t\t\t\tvRect.style.width =\n\t\t\t\t\t(width + 1) + 'px';\n\t\t\t\thRect.style.height =\n\t\t\t\tvRect.style.height =\n\t\t\t\t\t(height + 1) + 'px';\n\n\t\t\t\t// Colors must be specified during every redraw, otherwise IE won't display\n\t\t\t\t// a full gradient during a subsequential redraw\n\t\t\t\thGrad.color = '#F00';\n\t\t\t\thGrad.color2 = '#F00';\n\n\t\t\t\tswitch (type.toLowerCase()) {\n\t\t\t\tcase 's':\n\t\t\t\t\tvGrad.color = vGrad.color2 = '#FFF';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'v':\n\t\t\t\t\tvGrad.color = vGrad.color2 = '#000';\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t};\n\t\t\t\n\t\t\tpaletteObj.elm = vmlContainer;\n\t\t\tpaletteObj.draw = drawFunc;\n\t\t}\n\n\t\treturn paletteObj;\n\t},\n\n\n\tcreateSliderGradient : function () {\n\n\t\tvar sliderObj = {\n\t\t\telm: null,\n\t\t\tdraw: null\n\t\t};\n\n\t\tif (jsc.isCanvasSupported) {\n\t\t\t// Canvas implementation for modern browsers\n\n\t\t\tvar canvas = document.createElement('canvas');\n\t\t\tvar ctx = canvas.getContext('2d');\n\n\t\t\tvar drawFunc = function (width, height, color1, color2) {\n\t\t\t\tcanvas.width = width;\n\t\t\t\tcanvas.height = height;\n\n\t\t\t\tctx.clearRect(0, 0, canvas.width, canvas.height);\n\n\t\t\t\tvar grad = ctx.createLinearGradient(0, 0, 0, canvas.height);\n\t\t\t\tgrad.addColorStop(0, color1);\n\t\t\t\tgrad.addColorStop(1, color2);\n\n\t\t\t\tctx.fillStyle = grad;\n\t\t\t\tctx.fillRect(0, 0, canvas.width, canvas.height);\n\t\t\t};\n\n\t\t\tsliderObj.elm = canvas;\n\t\t\tsliderObj.draw = drawFunc;\n\n\t\t} else {\n\t\t\t// VML fallback for IE 7 and 8\n\n\t\t\tjsc.initVML();\n\n\t\t\tvar vmlContainer = document.createElement('div');\n\t\t\tvmlContainer.style.position = 'relative';\n\t\t\tvmlContainer.style.overflow = 'hidden';\n\n\t\t\tvar grad = document.createElement(jsc._vmlNS + ':fill');\n\t\t\tgrad.type = 'gradient';\n\t\t\tgrad.method = 'linear';\n\t\t\tgrad.angle = '180';\n\n\t\t\tvar rect = document.createElement(jsc._vmlNS + ':rect');\n\t\t\trect.style.position = 'absolute';\n\t\t\trect.style.left = -1 + 'px';\n\t\t\trect.style.top = -1 + 'px';\n\t\t\trect.stroked = false;\n\t\t\trect.appendChild(grad);\n\t\t\tvmlContainer.appendChild(rect);\n\n\t\t\tvar drawFunc = function (width, height, color1, color2) {\n\t\t\t\tvmlContainer.style.width = width + 'px';\n\t\t\t\tvmlContainer.style.height = height + 'px';\n\n\t\t\t\trect.style.width = (width + 1) + 'px';\n\t\t\t\trect.style.height = (height + 1) + 'px';\n\n\t\t\t\tgrad.color = color1;\n\t\t\t\tgrad.color2 = color2;\n\t\t\t};\n\t\t\t\n\t\t\tsliderObj.elm = vmlContainer;\n\t\t\tsliderObj.draw = drawFunc;\n\t\t}\n\n\t\treturn sliderObj;\n\t},\n\n\n\tleaveValue : 1<<0,\n\tleaveStyle : 1<<1,\n\tleavePad : 1<<2,\n\tleaveSld : 1<<3,\n\n\n\tBoxShadow : (function () {\n\t\tvar BoxShadow = function (hShadow, vShadow, blur, spread, color, inset) {\n\t\t\tthis.hShadow = hShadow;\n\t\t\tthis.vShadow = vShadow;\n\t\t\tthis.blur = blur;\n\t\t\tthis.spread = spread;\n\t\t\tthis.color = color;\n\t\t\tthis.inset = !!inset;\n\t\t};\n\n\t\tBoxShadow.prototype.toString = function () {\n\t\t\tvar vals = [\n\t\t\t\tMath.round(this.hShadow) + 'px',\n\t\t\t\tMath.round(this.vShadow) + 'px',\n\t\t\t\tMath.round(this.blur) + 'px',\n\t\t\t\tMath.round(this.spread) + 'px',\n\t\t\t\tthis.color\n\t\t\t];\n\t\t\tif (this.inset) {\n\t\t\t\tvals.push('inset');\n\t\t\t}\n\t\t\treturn vals.join(' ');\n\t\t};\n\n\t\treturn BoxShadow;\n\t})(),\n\n\n\t//\n\t// Usage:\n\t// var myColor = new jscolor(<targetElement> [, <options>])\n\t//\n\n\tjscolor : function (targetElement, options) {\n\n\t\t// General options\n\t\t//\n\t\tthis.value = null; // initial HEX color. To change it later, use methods fromString(), fromHSV() and fromRGB()\n\t\tthis.valueElement = targetElement; // element that will be used to display and input the color code\n\t\tthis.styleElement = targetElement; // element that will preview the picked color using CSS backgroundColor\n\t\tthis.required = true; // whether the associated text <input> can be left empty\n\t\tthis.refine = true; // whether to refine the entered color code (e.g. uppercase it and remove whitespace)\n\t\tthis.hash = false; // whether to prefix the HEX color code with # symbol\n\t\tthis.uppercase = true; // whether to show the color code in upper case\n\t\tthis.onFineChange = null; // called instantly every time the color changes (value can be either a function or a string with javascript code)\n\t\tthis.activeClass = 'jscolor-active'; // class to be set to the target element when a picker window is open on it\n\t\tthis.overwriteImportant = false; // whether to overwrite colors of styleElement using !important\n\t\tthis.minS = 0; // min allowed saturation (0 - 100)\n\t\tthis.maxS = 100; // max allowed saturation (0 - 100)\n\t\tthis.minV = 0; // min allowed value (brightness) (0 - 100)\n\t\tthis.maxV = 100; // max allowed value (brightness) (0 - 100)\n\n\t\t// Accessing the picked color\n\t\t//\n\t\tthis.hsv = [0, 0, 100]; // read-only  [0-360, 0-100, 0-100]\n\t\tthis.rgb = [255, 255, 255]; // read-only  [0-255, 0-255, 0-255]\n\n\t\t// Color Picker options\n\t\t//\n\t\tthis.width = 181; // width of color palette (in px)\n\t\tthis.height = 101; // height of color palette (in px)\n\t\tthis.showOnClick = true; // whether to display the color picker when user clicks on its target element\n\t\tthis.mode = 'HSV'; // HSV | HVS | HS | HV - layout of the color picker controls\n\t\tthis.position = 'bottom'; // left | right | top | bottom - position relative to the target element\n\t\tthis.smartPosition = true; // automatically change picker position when there is not enough space for it\n\t\tthis.sliderSize = 16; // px\n\t\tthis.crossSize = 8; // px\n\t\tthis.closable = false; // whether to display the Close button\n\t\tthis.closeText = 'Close';\n\t\tthis.buttonColor = '#000000'; // CSS color\n\t\tthis.buttonHeight = 18; // px\n\t\tthis.padding = 12; // px\n\t\tthis.backgroundColor = '#FFFFFF'; // CSS color\n\t\tthis.borderWidth = 1; // px\n\t\tthis.borderColor = '#BBBBBB'; // CSS color\n\t\tthis.borderRadius = 8; // px\n\t\tthis.insetWidth = 1; // px\n\t\tthis.insetColor = '#BBBBBB'; // CSS color\n\t\tthis.shadow = true; // whether to display shadow\n\t\tthis.shadowBlur = 15; // px\n\t\tthis.shadowColor = 'rgba(0,0,0,0.2)'; // CSS color\n\t\tthis.pointerColor = '#4C4C4C'; // px\n\t\tthis.pointerBorderColor = '#FFFFFF'; // px\n        this.pointerBorderWidth = 1; // px\n        this.pointerThickness = 2; // px\n\t\tthis.zIndex = 1000;\n\t\tthis.container = null; // where to append the color picker (BODY element by default)\n\n\n\t\tfor (var opt in options) {\n\t\t\tif (options.hasOwnProperty(opt)) {\n\t\t\t\tthis[opt] = options[opt];\n\t\t\t}\n\t\t}\n\n\n\t\tthis.hide = function () {\n\t\t\tif (isPickerOwner()) {\n\t\t\t\tdetachPicker();\n\t\t\t}\n\t\t};\n\n\n\t\tthis.show = function () {\n\t\t\tdrawPicker();\n\t\t};\n\n\n\t\tthis.redraw = function () {\n\t\t\tif (isPickerOwner()) {\n\t\t\t\tdrawPicker();\n\t\t\t}\n\t\t};\n\n\n\t\tthis.importColor = function () {\n\t\t\tif (!this.valueElement) {\n\t\t\t\tthis.exportColor();\n\t\t\t} else {\n\t\t\t\tif (jsc.isElementType(this.valueElement, 'input')) {\n\t\t\t\t\tif (!this.refine) {\n\t\t\t\t\t\tif (!this.fromString(this.valueElement.value, jsc.leaveValue)) {\n\t\t\t\t\t\t\tif (this.styleElement) {\n\t\t\t\t\t\t\t\tthis.styleElement.style.backgroundImage = this.styleElement._jscOrigStyle.backgroundImage;\n\t\t\t\t\t\t\t\tthis.styleElement.style.backgroundColor = this.styleElement._jscOrigStyle.backgroundColor;\n\t\t\t\t\t\t\t\tthis.styleElement.style.color = this.styleElement._jscOrigStyle.color;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.exportColor(jsc.leaveValue | jsc.leaveStyle);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (!this.required && /^\\s*$/.test(this.valueElement.value)) {\n\t\t\t\t\t\tthis.valueElement.value = '';\n\t\t\t\t\t\tif (this.styleElement) {\n\t\t\t\t\t\t\tthis.styleElement.style.backgroundImage = this.styleElement._jscOrigStyle.backgroundImage;\n\t\t\t\t\t\t\tthis.styleElement.style.backgroundColor = this.styleElement._jscOrigStyle.backgroundColor;\n\t\t\t\t\t\t\tthis.styleElement.style.color = this.styleElement._jscOrigStyle.color;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.exportColor(jsc.leaveValue | jsc.leaveStyle);\n\n\t\t\t\t\t} else if (this.fromString(this.valueElement.value)) {\n\t\t\t\t\t\t// managed to import color successfully from the value -> OK, don't do anything\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.exportColor();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// not an input element -> doesn't have any value\n\t\t\t\t\tthis.exportColor();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\n\t\tthis.exportColor = function (flags) {\n\t\t\tif (!(flags & jsc.leaveValue) && this.valueElement) {\n\t\t\t\tvar value = this.toString();\n\t\t\t\tif (this.uppercase) { value = value.toUpperCase(); }\n\t\t\t\tif (this.hash) { value = '#' + value; }\n\n\t\t\t\tif (jsc.isElementType(this.valueElement, 'input')) {\n\t\t\t\t\tthis.valueElement.value = value;\n\t\t\t\t} else {\n\t\t\t\t\tthis.valueElement.innerHTML = value;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!(flags & jsc.leaveStyle)) {\n\t\t\t\tif (this.styleElement) {\n\t\t\t\t\tvar bgColor = '#' + this.toString();\n\t\t\t\t\tvar fgColor = this.isLight() ? '#000' : '#FFF';\n\n\t\t\t\t\tthis.styleElement.style.backgroundImage = 'none';\n\t\t\t\t\tthis.styleElement.style.backgroundColor = bgColor;\n\t\t\t\t\tthis.styleElement.style.color = fgColor;\n\n\t\t\t\t\tif (this.overwriteImportant) {\n\t\t\t\t\t\tthis.styleElement.setAttribute('style',\n\t\t\t\t\t\t\t'background: ' + bgColor + ' !important; ' +\n\t\t\t\t\t\t\t'color: ' + fgColor + ' !important;'\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!(flags & jsc.leavePad) && isPickerOwner()) {\n\t\t\t\tredrawPad();\n\t\t\t}\n\t\t\tif (!(flags & jsc.leaveSld) && isPickerOwner()) {\n\t\t\t\tredrawSld();\n\t\t\t}\n\t\t};\n\n\n\t\t// h: 0-360\n\t\t// s: 0-100\n\t\t// v: 0-100\n\t\t//\n\t\tthis.fromHSV = function (h, s, v, flags) { // null = don't change\n\t\t\tif (h !== null) {\n\t\t\t\tif (isNaN(h)) { return false; }\n\t\t\t\th = Math.max(0, Math.min(360, h));\n\t\t\t}\n\t\t\tif (s !== null) {\n\t\t\t\tif (isNaN(s)) { return false; }\n\t\t\t\ts = Math.max(0, Math.min(100, this.maxS, s), this.minS);\n\t\t\t}\n\t\t\tif (v !== null) {\n\t\t\t\tif (isNaN(v)) { return false; }\n\t\t\t\tv = Math.max(0, Math.min(100, this.maxV, v), this.minV);\n\t\t\t}\n\n\t\t\tthis.rgb = HSV_RGB(\n\t\t\t\th===null ? this.hsv[0] : (this.hsv[0]=h),\n\t\t\t\ts===null ? this.hsv[1] : (this.hsv[1]=s),\n\t\t\t\tv===null ? this.hsv[2] : (this.hsv[2]=v)\n\t\t\t);\n\n\t\t\tthis.exportColor(flags);\n\t\t};\n\n\n\t\t// r: 0-255\n\t\t// g: 0-255\n\t\t// b: 0-255\n\t\t//\n\t\tthis.fromRGB = function (r, g, b, flags) { // null = don't change\n\t\t\tif (r !== null) {\n\t\t\t\tif (isNaN(r)) { return false; }\n\t\t\t\tr = Math.max(0, Math.min(255, r));\n\t\t\t}\n\t\t\tif (g !== null) {\n\t\t\t\tif (isNaN(g)) { return false; }\n\t\t\t\tg = Math.max(0, Math.min(255, g));\n\t\t\t}\n\t\t\tif (b !== null) {\n\t\t\t\tif (isNaN(b)) { return false; }\n\t\t\t\tb = Math.max(0, Math.min(255, b));\n\t\t\t}\n\n\t\t\tvar hsv = RGB_HSV(\n\t\t\t\tr===null ? this.rgb[0] : r,\n\t\t\t\tg===null ? this.rgb[1] : g,\n\t\t\t\tb===null ? this.rgb[2] : b\n\t\t\t);\n\t\t\tif (hsv[0] !== null) {\n\t\t\t\tthis.hsv[0] = Math.max(0, Math.min(360, hsv[0]));\n\t\t\t}\n\t\t\tif (hsv[2] !== 0) {\n\t\t\t\tthis.hsv[1] = hsv[1]===null ? null : Math.max(0, this.minS, Math.min(100, this.maxS, hsv[1]));\n\t\t\t}\n\t\t\tthis.hsv[2] = hsv[2]===null ? null : Math.max(0, this.minV, Math.min(100, this.maxV, hsv[2]));\n\n\t\t\t// update RGB according to final HSV, as some values might be trimmed\n\t\t\tvar rgb = HSV_RGB(this.hsv[0], this.hsv[1], this.hsv[2]);\n\t\t\tthis.rgb[0] = rgb[0];\n\t\t\tthis.rgb[1] = rgb[1];\n\t\t\tthis.rgb[2] = rgb[2];\n\n\t\t\tthis.exportColor(flags);\n\t\t};\n\n\n\t\tthis.fromString = function (str, flags) {\n\t\t\tvar m;\n\t\t\tif (m = str.match(/^\\W*([0-9A-F]{3}([0-9A-F]{3})?)\\W*$/i)) {\n\t\t\t\t// HEX notation\n\t\t\t\t//\n\n\t\t\t\tif (m[1].length === 6) {\n\t\t\t\t\t// 6-char notation\n\t\t\t\t\tthis.fromRGB(\n\t\t\t\t\t\tparseInt(m[1].substr(0,2),16),\n\t\t\t\t\t\tparseInt(m[1].substr(2,2),16),\n\t\t\t\t\t\tparseInt(m[1].substr(4,2),16),\n\t\t\t\t\t\tflags\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\t// 3-char notation\n\t\t\t\t\tthis.fromRGB(\n\t\t\t\t\t\tparseInt(m[1].charAt(0) + m[1].charAt(0),16),\n\t\t\t\t\t\tparseInt(m[1].charAt(1) + m[1].charAt(1),16),\n\t\t\t\t\t\tparseInt(m[1].charAt(2) + m[1].charAt(2),16),\n\t\t\t\t\t\tflags\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\treturn true;\n\n\t\t\t} else if (m = str.match(/^\\W*rgba?\\(([^)]*)\\)\\W*$/i)) {\n\t\t\t\tvar params = m[1].split(',');\n\t\t\t\tvar re = /^\\s*(\\d*)(\\.\\d+)?\\s*$/;\n\t\t\t\tvar mR, mG, mB;\n\t\t\t\tif (\n\t\t\t\t\tparams.length >= 3 &&\n\t\t\t\t\t(mR = params[0].match(re)) &&\n\t\t\t\t\t(mG = params[1].match(re)) &&\n\t\t\t\t\t(mB = params[2].match(re))\n\t\t\t\t) {\n\t\t\t\t\tvar r = parseFloat((mR[1] || '0') + (mR[2] || ''));\n\t\t\t\t\tvar g = parseFloat((mG[1] || '0') + (mG[2] || ''));\n\t\t\t\t\tvar b = parseFloat((mB[1] || '0') + (mB[2] || ''));\n\t\t\t\t\tthis.fromRGB(r, g, b, flags);\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\n\n\t\tthis.toString = function () {\n\t\t\treturn (\n\t\t\t\t(0x100 | Math.round(this.rgb[0])).toString(16).substr(1) +\n\t\t\t\t(0x100 | Math.round(this.rgb[1])).toString(16).substr(1) +\n\t\t\t\t(0x100 | Math.round(this.rgb[2])).toString(16).substr(1)\n\t\t\t);\n\t\t};\n\n\n\t\tthis.toHEXString = function () {\n\t\t\treturn '#' + this.toString().toUpperCase();\n\t\t};\n\n\n\t\tthis.toRGBString = function () {\n\t\t\treturn ('rgb(' +\n\t\t\t\tMath.round(this.rgb[0]) + ',' +\n\t\t\t\tMath.round(this.rgb[1]) + ',' +\n\t\t\t\tMath.round(this.rgb[2]) + ')'\n\t\t\t);\n\t\t};\n\n\n\t\tthis.isLight = function () {\n\t\t\treturn (\n\t\t\t\t0.213 * this.rgb[0] +\n\t\t\t\t0.715 * this.rgb[1] +\n\t\t\t\t0.072 * this.rgb[2] >\n\t\t\t\t255 / 2\n\t\t\t);\n\t\t};\n\n\n\t\tthis._processParentElementsInDOM = function () {\n\t\t\tif (this._linkedElementsProcessed) { return; }\n\t\t\tthis._linkedElementsProcessed = true;\n\n\t\t\tvar elm = this.targetElement;\n\t\t\tdo {\n\t\t\t\t// If the target element or one of its parent nodes has fixed position,\n\t\t\t\t// then use fixed positioning instead\n\t\t\t\t//\n\t\t\t\t// Note: In Firefox, getComputedStyle returns null in a hidden iframe,\n\t\t\t\t// that's why we need to check if the returned style object is non-empty\n\t\t\t\tvar currStyle = jsc.getStyle(elm);\n\t\t\t\tif (currStyle && currStyle.position.toLowerCase() === 'fixed') {\n\t\t\t\t\tthis.fixed = true;\n\t\t\t\t}\n\n\t\t\t\tif (elm !== this.targetElement) {\n\t\t\t\t\t// Ensure to attach onParentScroll only once to each parent element\n\t\t\t\t\t// (multiple targetElements can share the same parent nodes)\n\t\t\t\t\t//\n\t\t\t\t\t// Note: It's not just offsetParents that can be scrollable,\n\t\t\t\t\t// that's why we loop through all parent nodes\n\t\t\t\t\tif (!elm._jscEventsAttached) {\n\t\t\t\t\t\tjsc.attachEvent(elm, 'scroll', jsc.onParentScroll);\n\t\t\t\t\t\telm._jscEventsAttached = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} while ((elm = elm.parentNode) && !jsc.isElementType(elm, 'body'));\n\t\t};\n\n\n\t\t// r: 0-255\n\t\t// g: 0-255\n\t\t// b: 0-255\n\t\t//\n\t\t// returns: [ 0-360, 0-100, 0-100 ]\n\t\t//\n\t\tfunction RGB_HSV (r, g, b) {\n\t\t\tr /= 255;\n\t\t\tg /= 255;\n\t\t\tb /= 255;\n\t\t\tvar n = Math.min(Math.min(r,g),b);\n\t\t\tvar v = Math.max(Math.max(r,g),b);\n\t\t\tvar m = v - n;\n\t\t\tif (m === 0) { return [ null, 0, 100 * v ]; }\n\t\t\tvar h = r===n ? 3+(b-g)/m : (g===n ? 5+(r-b)/m : 1+(g-r)/m);\n\t\t\treturn [\n\t\t\t\t60 * (h===6?0:h),\n\t\t\t\t100 * (m/v),\n\t\t\t\t100 * v\n\t\t\t];\n\t\t}\n\n\n\t\t// h: 0-360\n\t\t// s: 0-100\n\t\t// v: 0-100\n\t\t//\n\t\t// returns: [ 0-255, 0-255, 0-255 ]\n\t\t//\n\t\tfunction HSV_RGB (h, s, v) {\n\t\t\tvar u = 255 * (v / 100);\n\n\t\t\tif (h === null) {\n\t\t\t\treturn [ u, u, u ];\n\t\t\t}\n\n\t\t\th /= 60;\n\t\t\ts /= 100;\n\n\t\t\tvar i = Math.floor(h);\n\t\t\tvar f = i%2 ? h-i : 1-(h-i);\n\t\t\tvar m = u * (1 - s);\n\t\t\tvar n = u * (1 - s * f);\n\t\t\tswitch (i) {\n\t\t\t\tcase 6:\n\t\t\t\tcase 0: return [u,n,m];\n\t\t\t\tcase 1: return [n,u,m];\n\t\t\t\tcase 2: return [m,u,n];\n\t\t\t\tcase 3: return [m,n,u];\n\t\t\t\tcase 4: return [n,m,u];\n\t\t\t\tcase 5: return [u,m,n];\n\t\t\t}\n\t\t}\n\n\n\t\tfunction detachPicker () {\n\t\t\tjsc.unsetClass(THIS.targetElement, THIS.activeClass);\n\t\t\tjsc.picker.wrap.parentNode.removeChild(jsc.picker.wrap);\n\t\t\tdelete jsc.picker.owner;\n\t\t}\n\n\n\t\tfunction drawPicker () {\n\n\t\t\t// At this point, when drawing the picker, we know what the parent elements are\n\t\t\t// and we can do all related DOM operations, such as registering events on them\n\t\t\t// or checking their positioning\n\t\t\tTHIS._processParentElementsInDOM();\n\n\t\t\tif (!jsc.picker) {\n\t\t\t\tjsc.picker = {\n\t\t\t\t\towner: null,\n\t\t\t\t\twrap : document.createElement('div'),\n\t\t\t\t\tbox : document.createElement('div'),\n\t\t\t\t\tboxS : document.createElement('div'), // shadow area\n\t\t\t\t\tboxB : document.createElement('div'), // border\n\t\t\t\t\tpad : document.createElement('div'),\n\t\t\t\t\tpadB : document.createElement('div'), // border\n\t\t\t\t\tpadM : document.createElement('div'), // mouse/touch area\n\t\t\t\t\tpadPal : jsc.createPalette(),\n\t\t\t\t\tcross : document.createElement('div'),\n\t\t\t\t\tcrossBY : document.createElement('div'), // border Y\n\t\t\t\t\tcrossBX : document.createElement('div'), // border X\n\t\t\t\t\tcrossLY : document.createElement('div'), // line Y\n\t\t\t\t\tcrossLX : document.createElement('div'), // line X\n\t\t\t\t\tsld : document.createElement('div'),\n\t\t\t\t\tsldB : document.createElement('div'), // border\n\t\t\t\t\tsldM : document.createElement('div'), // mouse/touch area\n\t\t\t\t\tsldGrad : jsc.createSliderGradient(),\n\t\t\t\t\tsldPtrS : document.createElement('div'), // slider pointer spacer\n\t\t\t\t\tsldPtrIB : document.createElement('div'), // slider pointer inner border\n\t\t\t\t\tsldPtrMB : document.createElement('div'), // slider pointer middle border\n\t\t\t\t\tsldPtrOB : document.createElement('div'), // slider pointer outer border\n\t\t\t\t\tbtn : document.createElement('div'),\n\t\t\t\t\tbtnT : document.createElement('span') // text\n\t\t\t\t};\n\n\t\t\t\tjsc.picker.pad.appendChild(jsc.picker.padPal.elm);\n\t\t\t\tjsc.picker.padB.appendChild(jsc.picker.pad);\n\t\t\t\tjsc.picker.cross.appendChild(jsc.picker.crossBY);\n\t\t\t\tjsc.picker.cross.appendChild(jsc.picker.crossBX);\n\t\t\t\tjsc.picker.cross.appendChild(jsc.picker.crossLY);\n\t\t\t\tjsc.picker.cross.appendChild(jsc.picker.crossLX);\n\t\t\t\tjsc.picker.padB.appendChild(jsc.picker.cross);\n\t\t\t\tjsc.picker.box.appendChild(jsc.picker.padB);\n\t\t\t\tjsc.picker.box.appendChild(jsc.picker.padM);\n\n\t\t\t\tjsc.picker.sld.appendChild(jsc.picker.sldGrad.elm);\n\t\t\t\tjsc.picker.sldB.appendChild(jsc.picker.sld);\n\t\t\t\tjsc.picker.sldB.appendChild(jsc.picker.sldPtrOB);\n\t\t\t\tjsc.picker.sldPtrOB.appendChild(jsc.picker.sldPtrMB);\n\t\t\t\tjsc.picker.sldPtrMB.appendChild(jsc.picker.sldPtrIB);\n\t\t\t\tjsc.picker.sldPtrIB.appendChild(jsc.picker.sldPtrS);\n\t\t\t\tjsc.picker.box.appendChild(jsc.picker.sldB);\n\t\t\t\tjsc.picker.box.appendChild(jsc.picker.sldM);\n\n\t\t\t\tjsc.picker.btn.appendChild(jsc.picker.btnT);\n\t\t\t\tjsc.picker.box.appendChild(jsc.picker.btn);\n\n\t\t\t\tjsc.picker.boxB.appendChild(jsc.picker.box);\n\t\t\t\tjsc.picker.wrap.appendChild(jsc.picker.boxS);\n\t\t\t\tjsc.picker.wrap.appendChild(jsc.picker.boxB);\n\t\t\t}\n\n\t\t\tvar p = jsc.picker;\n\n\t\t\tvar displaySlider = !!jsc.getSliderComponent(THIS);\n\t\t\tvar dims = jsc.getPickerDims(THIS);\n\t\t\tvar crossOuterSize = (2 * THIS.pointerBorderWidth + THIS.pointerThickness + 2 * THIS.crossSize);\n\t\t\tvar padToSliderPadding = jsc.getPadToSliderPadding(THIS);\n\t\t\tvar borderRadius = Math.min(\n\t\t\t\tTHIS.borderRadius,\n\t\t\t\tMath.round(THIS.padding * Math.PI)); // px\n\t\t\tvar padCursor = 'crosshair';\n\n\t\t\t// wrap\n\t\t\tp.wrap.style.clear = 'both';\n\t\t\tp.wrap.style.width = (dims[0] + 2 * THIS.borderWidth) + 'px';\n\t\t\tp.wrap.style.height = (dims[1] + 2 * THIS.borderWidth) + 'px';\n\t\t\tp.wrap.style.zIndex = THIS.zIndex;\n\n\t\t\t// picker\n\t\t\tp.box.style.width = dims[0] + 'px';\n\t\t\tp.box.style.height = dims[1] + 'px';\n\n\t\t\tp.boxS.style.position = 'absolute';\n\t\t\tp.boxS.style.left = '0';\n\t\t\tp.boxS.style.top = '0';\n\t\t\tp.boxS.style.width = '100%';\n\t\t\tp.boxS.style.height = '100%';\n\t\t\tjsc.setBorderRadius(p.boxS, borderRadius + 'px');\n\n\t\t\t// picker border\n\t\t\tp.boxB.style.position = 'relative';\n\t\t\tp.boxB.style.border = THIS.borderWidth + 'px solid';\n\t\t\tp.boxB.style.borderColor = THIS.borderColor;\n\t\t\tp.boxB.style.background = THIS.backgroundColor;\n\t\t\tjsc.setBorderRadius(p.boxB, borderRadius + 'px');\n\n\t\t\t// IE hack:\n\t\t\t// If the element is transparent, IE will trigger the event on the elements under it,\n\t\t\t// e.g. on Canvas or on elements with border\n\t\t\tp.padM.style.background =\n\t\t\tp.sldM.style.background =\n\t\t\t\t'#FFF';\n\t\t\tjsc.setStyle(p.padM, 'opacity', '0');\n\t\t\tjsc.setStyle(p.sldM, 'opacity', '0');\n\n\t\t\t// pad\n\t\t\tp.pad.style.position = 'relative';\n\t\t\tp.pad.style.width = THIS.width + 'px';\n\t\t\tp.pad.style.height = THIS.height + 'px';\n\n\t\t\t// pad palettes (HSV and HVS)\n\t\t\tp.padPal.draw(THIS.width, THIS.height, jsc.getPadYComponent(THIS));\n\n\t\t\t// pad border\n\t\t\tp.padB.style.position = 'absolute';\n\t\t\tp.padB.style.left = THIS.padding + 'px';\n\t\t\tp.padB.style.top = THIS.padding + 'px';\n\t\t\tp.padB.style.border = THIS.insetWidth + 'px solid';\n\t\t\tp.padB.style.borderColor = THIS.insetColor;\n\n\t\t\t// pad mouse area\n\t\t\tp.padM._jscInstance = THIS;\n\t\t\tp.padM._jscControlName = 'pad';\n\t\t\tp.padM.style.position = 'absolute';\n\t\t\tp.padM.style.left = '0';\n\t\t\tp.padM.style.top = '0';\n\t\t\tp.padM.style.width = (THIS.padding + 2 * THIS.insetWidth + THIS.width + padToSliderPadding / 2) + 'px';\n\t\t\tp.padM.style.height = dims[1] + 'px';\n\t\t\tp.padM.style.cursor = padCursor;\n\n\t\t\t// pad cross\n\t\t\tp.cross.style.position = 'absolute';\n\t\t\tp.cross.style.left =\n\t\t\tp.cross.style.top =\n\t\t\t\t'0';\n\t\t\tp.cross.style.width =\n\t\t\tp.cross.style.height =\n\t\t\t\tcrossOuterSize + 'px';\n\n\t\t\t// pad cross border Y and X\n\t\t\tp.crossBY.style.position =\n\t\t\tp.crossBX.style.position =\n\t\t\t\t'absolute';\n\t\t\tp.crossBY.style.background =\n\t\t\tp.crossBX.style.background =\n\t\t\t\tTHIS.pointerBorderColor;\n\t\t\tp.crossBY.style.width =\n\t\t\tp.crossBX.style.height =\n\t\t\t\t(2 * THIS.pointerBorderWidth + THIS.pointerThickness) + 'px';\n\t\t\tp.crossBY.style.height =\n\t\t\tp.crossBX.style.width =\n\t\t\t\tcrossOuterSize + 'px';\n\t\t\tp.crossBY.style.left =\n\t\t\tp.crossBX.style.top =\n\t\t\t\t(Math.floor(crossOuterSize / 2) - Math.floor(THIS.pointerThickness / 2) - THIS.pointerBorderWidth) + 'px';\n\t\t\tp.crossBY.style.top =\n\t\t\tp.crossBX.style.left =\n\t\t\t\t'0';\n\n\t\t\t// pad cross line Y and X\n\t\t\tp.crossLY.style.position =\n\t\t\tp.crossLX.style.position =\n\t\t\t\t'absolute';\n\t\t\tp.crossLY.style.background =\n\t\t\tp.crossLX.style.background =\n\t\t\t\tTHIS.pointerColor;\n\t\t\tp.crossLY.style.height =\n\t\t\tp.crossLX.style.width =\n\t\t\t\t(crossOuterSize - 2 * THIS.pointerBorderWidth) + 'px';\n\t\t\tp.crossLY.style.width =\n\t\t\tp.crossLX.style.height =\n\t\t\t\tTHIS.pointerThickness + 'px';\n\t\t\tp.crossLY.style.left =\n\t\t\tp.crossLX.style.top =\n\t\t\t\t(Math.floor(crossOuterSize / 2) - Math.floor(THIS.pointerThickness / 2)) + 'px';\n\t\t\tp.crossLY.style.top =\n\t\t\tp.crossLX.style.left =\n\t\t\t\tTHIS.pointerBorderWidth + 'px';\n\n\t\t\t// slider\n\t\t\tp.sld.style.overflow = 'hidden';\n\t\t\tp.sld.style.width = THIS.sliderSize + 'px';\n\t\t\tp.sld.style.height = THIS.height + 'px';\n\n\t\t\t// slider gradient\n\t\t\tp.sldGrad.draw(THIS.sliderSize, THIS.height, '#000', '#000');\n\n\t\t\t// slider border\n\t\t\tp.sldB.style.display = displaySlider ? 'block' : 'none';\n\t\t\tp.sldB.style.position = 'absolute';\n\t\t\tp.sldB.style.right = THIS.padding + 'px';\n\t\t\tp.sldB.style.top = THIS.padding + 'px';\n\t\t\tp.sldB.style.border = THIS.insetWidth + 'px solid';\n\t\t\tp.sldB.style.borderColor = THIS.insetColor;\n\n\t\t\t// slider mouse area\n\t\t\tp.sldM._jscInstance = THIS;\n\t\t\tp.sldM._jscControlName = 'sld';\n\t\t\tp.sldM.style.display = displaySlider ? 'block' : 'none';\n\t\t\tp.sldM.style.position = 'absolute';\n\t\t\tp.sldM.style.right = '0';\n\t\t\tp.sldM.style.top = '0';\n\t\t\tp.sldM.style.width = (THIS.sliderSize + padToSliderPadding / 2 + THIS.padding + 2 * THIS.insetWidth) + 'px';\n\t\t\tp.sldM.style.height = dims[1] + 'px';\n\t\t\tp.sldM.style.cursor = 'default';\n\n\t\t\t// slider pointer inner and outer border\n\t\t\tp.sldPtrIB.style.border =\n\t\t\tp.sldPtrOB.style.border =\n\t\t\t\tTHIS.pointerBorderWidth + 'px solid ' + THIS.pointerBorderColor;\n\n\t\t\t// slider pointer outer border\n\t\t\tp.sldPtrOB.style.position = 'absolute';\n\t\t\tp.sldPtrOB.style.left = -(2 * THIS.pointerBorderWidth + THIS.pointerThickness) + 'px';\n\t\t\tp.sldPtrOB.style.top = '0';\n\n\t\t\t// slider pointer middle border\n\t\t\tp.sldPtrMB.style.border = THIS.pointerThickness + 'px solid ' + THIS.pointerColor;\n\n\t\t\t// slider pointer spacer\n\t\t\tp.sldPtrS.style.width = THIS.sliderSize + 'px';\n\t\t\tp.sldPtrS.style.height = sliderPtrSpace + 'px';\n\n\t\t\t// the Close button\n\t\t\tfunction setBtnBorder () {\n\t\t\t\tvar insetColors = THIS.insetColor.split(/\\s+/);\n\t\t\t\tvar outsetColor = insetColors.length < 2 ? insetColors[0] : insetColors[1] + ' ' + insetColors[0] + ' ' + insetColors[0] + ' ' + insetColors[1];\n\t\t\t\tp.btn.style.borderColor = outsetColor;\n\t\t\t}\n\t\t\tp.btn.style.display = THIS.closable ? 'block' : 'none';\n\t\t\tp.btn.style.position = 'absolute';\n\t\t\tp.btn.style.left = THIS.padding + 'px';\n\t\t\tp.btn.style.bottom = THIS.padding + 'px';\n\t\t\tp.btn.style.padding = '0 15px';\n\t\t\tp.btn.style.height = THIS.buttonHeight + 'px';\n\t\t\tp.btn.style.border = THIS.insetWidth + 'px solid';\n\t\t\tsetBtnBorder();\n\t\t\tp.btn.style.color = THIS.buttonColor;\n\t\t\tp.btn.style.font = '12px sans-serif';\n\t\t\tp.btn.style.textAlign = 'center';\n\t\t\ttry {\n\t\t\t\tp.btn.style.cursor = 'pointer';\n\t\t\t} catch(eOldIE) {\n\t\t\t\tp.btn.style.cursor = 'hand';\n\t\t\t}\n\t\t\tp.btn.onmousedown = function () {\n\t\t\t\tTHIS.hide();\n\t\t\t};\n\t\t\tp.btnT.style.lineHeight = THIS.buttonHeight + 'px';\n\t\t\tp.btnT.innerHTML = '';\n\t\t\tp.btnT.appendChild(document.createTextNode(THIS.closeText));\n\n\t\t\t// place pointers\n\t\t\tredrawPad();\n\t\t\tredrawSld();\n\n\t\t\t// If we are changing the owner without first closing the picker,\n\t\t\t// make sure to first deal with the old owner\n\t\t\tif (jsc.picker.owner && jsc.picker.owner !== THIS) {\n\t\t\t\tjsc.unsetClass(jsc.picker.owner.targetElement, THIS.activeClass);\n\t\t\t}\n\n\t\t\t// Set the new picker owner\n\t\t\tjsc.picker.owner = THIS;\n\n\t\t\t// The redrawPosition() method needs picker.owner to be set, that's why we call it here,\n\t\t\t// after setting the owner\n\t\t\tif (jsc.isElementType(container, 'body')) {\n\t\t\t\tjsc.redrawPosition();\n\t\t\t} else {\n\t\t\t\tjsc._drawPosition(THIS, 0, 0, 'relative', false);\n\t\t\t}\n\n\t\t\tif (p.wrap.parentNode != container) {\n\t\t\t\tcontainer.appendChild(p.wrap);\n\t\t\t}\n\n\t\t\tjsc.setClass(THIS.targetElement, THIS.activeClass);\n\t\t}\n\n\n\t\tfunction redrawPad () {\n\t\t\t// redraw the pad pointer\n\t\t\tswitch (jsc.getPadYComponent(THIS)) {\n\t\t\tcase 's': var yComponent = 1; break;\n\t\t\tcase 'v': var yComponent = 2; break;\n\t\t\t}\n\t\t\tvar x = Math.round((THIS.hsv[0] / 360) * (THIS.width - 1));\n\t\t\tvar y = Math.round((1 - THIS.hsv[yComponent] / 100) * (THIS.height - 1));\n\t\t\tvar crossOuterSize = (2 * THIS.pointerBorderWidth + THIS.pointerThickness + 2 * THIS.crossSize);\n\t\t\tvar ofs = -Math.floor(crossOuterSize / 2);\n\t\t\tjsc.picker.cross.style.left = (x + ofs) + 'px';\n\t\t\tjsc.picker.cross.style.top = (y + ofs) + 'px';\n\n\t\t\t// redraw the slider\n\t\t\tswitch (jsc.getSliderComponent(THIS)) {\n\t\t\tcase 's':\n\t\t\t\tvar rgb1 = HSV_RGB(THIS.hsv[0], 100, THIS.hsv[2]);\n\t\t\t\tvar rgb2 = HSV_RGB(THIS.hsv[0], 0, THIS.hsv[2]);\n\t\t\t\tvar color1 = 'rgb(' +\n\t\t\t\t\tMath.round(rgb1[0]) + ',' +\n\t\t\t\t\tMath.round(rgb1[1]) + ',' +\n\t\t\t\t\tMath.round(rgb1[2]) + ')';\n\t\t\t\tvar color2 = 'rgb(' +\n\t\t\t\t\tMath.round(rgb2[0]) + ',' +\n\t\t\t\t\tMath.round(rgb2[1]) + ',' +\n\t\t\t\t\tMath.round(rgb2[2]) + ')';\n\t\t\t\tjsc.picker.sldGrad.draw(THIS.sliderSize, THIS.height, color1, color2);\n\t\t\t\tbreak;\n\t\t\tcase 'v':\n\t\t\t\tvar rgb = HSV_RGB(THIS.hsv[0], THIS.hsv[1], 100);\n\t\t\t\tvar color1 = 'rgb(' +\n\t\t\t\t\tMath.round(rgb[0]) + ',' +\n\t\t\t\t\tMath.round(rgb[1]) + ',' +\n\t\t\t\t\tMath.round(rgb[2]) + ')';\n\t\t\t\tvar color2 = '#000';\n\t\t\t\tjsc.picker.sldGrad.draw(THIS.sliderSize, THIS.height, color1, color2);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\n\t\tfunction redrawSld () {\n\t\t\tvar sldComponent = jsc.getSliderComponent(THIS);\n\t\t\tif (sldComponent) {\n\t\t\t\t// redraw the slider pointer\n\t\t\t\tswitch (sldComponent) {\n\t\t\t\tcase 's': var yComponent = 1; break;\n\t\t\t\tcase 'v': var yComponent = 2; break;\n\t\t\t\t}\n\t\t\t\tvar y = Math.round((1 - THIS.hsv[yComponent] / 100) * (THIS.height - 1));\n\t\t\t\tjsc.picker.sldPtrOB.style.top = (y - (2 * THIS.pointerBorderWidth + THIS.pointerThickness) - Math.floor(sliderPtrSpace / 2)) + 'px';\n\t\t\t}\n\t\t}\n\n\n\t\tfunction isPickerOwner () {\n\t\t\treturn jsc.picker && jsc.picker.owner === THIS;\n\t\t}\n\n\n\t\tfunction blurValue () {\n\t\t\tTHIS.importColor();\n\t\t}\n\n\n\t\t// Find the target element\n\t\tif (typeof targetElement === 'string') {\n\t\t\tvar id = targetElement;\n\t\t\tvar elm = document.getElementById(id);\n\t\t\tif (elm) {\n\t\t\t\tthis.targetElement = elm;\n\t\t\t} else {\n\t\t\t\tjsc.warn('Could not find target element with ID \\'' + id + '\\'');\n\t\t\t}\n\t\t} else if (targetElement) {\n\t\t\tthis.targetElement = targetElement;\n\t\t} else {\n\t\t\tjsc.warn('Invalid target element: \\'' + targetElement + '\\'');\n\t\t}\n\n\t\tif (this.targetElement._jscLinkedInstance) {\n\t\t\tjsc.warn('Cannot link jscolor twice to the same element. Skipping.');\n\t\t\treturn;\n\t\t}\n\t\tthis.targetElement._jscLinkedInstance = this;\n\n\t\t// Find the value element\n\t\tthis.valueElement = jsc.fetchElement(this.valueElement);\n\t\t// Find the style element\n\t\tthis.styleElement = jsc.fetchElement(this.styleElement);\n\n\t\tvar THIS = this;\n\t\tvar container =\n\t\t\tthis.container ?\n\t\t\tjsc.fetchElement(this.container) :\n\t\t\tdocument.getElementsByTagName('body')[0];\n\t\tvar sliderPtrSpace = 3; // px\n\n\t\t// For BUTTON elements it's important to stop them from sending the form when clicked\n\t\t// (e.g. in Safari)\n\t\tif (jsc.isElementType(this.targetElement, 'button')) {\n\t\t\tif (this.targetElement.onclick) {\n\t\t\t\tvar origCallback = this.targetElement.onclick;\n\t\t\t\tthis.targetElement.onclick = function (evt) {\n\t\t\t\t\torigCallback.call(this, evt);\n\t\t\t\t\treturn false;\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tthis.targetElement.onclick = function () { return false; };\n\t\t\t}\n\t\t}\n\n\t\t/*\n\t\tvar elm = this.targetElement;\n\t\tdo {\n\t\t\t// If the target element or one of its offsetParents has fixed position,\n\t\t\t// then use fixed positioning instead\n\t\t\t//\n\t\t\t// Note: In Firefox, getComputedStyle returns null in a hidden iframe,\n\t\t\t// that's why we need to check if the returned style object is non-empty\n\t\t\tvar currStyle = jsc.getStyle(elm);\n\t\t\tif (currStyle && currStyle.position.toLowerCase() === 'fixed') {\n\t\t\t\tthis.fixed = true;\n\t\t\t}\n\n\t\t\tif (elm !== this.targetElement) {\n\t\t\t\t// attach onParentScroll so that we can recompute the picker position\n\t\t\t\t// when one of the offsetParents is scrolled\n\t\t\t\tif (!elm._jscEventsAttached) {\n\t\t\t\t\tjsc.attachEvent(elm, 'scroll', jsc.onParentScroll);\n\t\t\t\t\telm._jscEventsAttached = true;\n\t\t\t\t}\n\t\t\t}\n\t\t} while ((elm = elm.offsetParent) && !jsc.isElementType(elm, 'body'));\n\t\t*/\n\n\t\t// valueElement\n\t\tif (this.valueElement) {\n\t\t\tif (jsc.isElementType(this.valueElement, 'input')) {\n\t\t\t\tvar updateField = function () {\n\t\t\t\t\tTHIS.fromString(THIS.valueElement.value, jsc.leaveValue);\n\t\t\t\t\tjsc.dispatchFineChange(THIS);\n\t\t\t\t};\n\t\t\t\tjsc.attachEvent(this.valueElement, 'keyup', updateField);\n\t\t\t\tjsc.attachEvent(this.valueElement, 'input', updateField);\n\t\t\t\tjsc.attachEvent(this.valueElement, 'blur', blurValue);\n\t\t\t\tthis.valueElement.setAttribute('autocomplete', 'off');\n\t\t\t}\n\t\t}\n\n\t\t// styleElement\n\t\tif (this.styleElement) {\n\t\t\tthis.styleElement._jscOrigStyle = {\n\t\t\t\tbackgroundImage : this.styleElement.style.backgroundImage,\n\t\t\t\tbackgroundColor : this.styleElement.style.backgroundColor,\n\t\t\t\tcolor : this.styleElement.style.color\n\t\t\t};\n\t\t}\n\n\t\tif (this.value) {\n\t\t\t// Try to set the color from the .value option and if unsuccessful,\n\t\t\t// export the current color\n\t\t\tthis.fromString(this.value) || this.exportColor();\n\t\t} else {\n\t\t\tthis.importColor();\n\t\t}\n\t}\n\n};\n\n\n//================================\n// Public properties and methods\n//================================\n\n\n// By default, search for all elements with class=\"jscolor\" and install a color picker on them.\n//\n// You can change what class name will be looked for by setting the property jscolor.lookupClass\n// anywhere in your HTML document. To completely disable the automatic lookup, set it to null.\n//\njsc.jscolor.lookupClass = 'jscolor';\n\n\njsc.jscolor.installByClassName = function (className) {\n\tvar inputElms = document.getElementsByTagName('input');\n\tvar buttonElms = document.getElementsByTagName('button');\n\n\tjsc.tryInstallOnElements(inputElms, className);\n\tjsc.tryInstallOnElements(buttonElms, className);\n};\n\n\njsc.register();\n\n\nreturn jsc.jscolor;\n\n\n})(); }\n"]}